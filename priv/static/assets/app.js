(()=>{var Q=11;function ue(e,n){var t=n.attributes,r,a,l,u,m;if(!(n.nodeType===Q||e.nodeType===Q)){for(var w=t.length-1;w>=0;w--)r=t[w],a=r.name,l=r.namespaceURI,u=r.value,l?(a=r.localName||a,m=e.getAttributeNS(l,a),m!==u&&(r.prefix==="xmlns"&&(a=r.name),e.setAttributeNS(l,a,u))):(m=e.getAttribute(a),m!==u&&e.setAttribute(a,u));for(var A=e.attributes,E=A.length-1;E>=0;E--)r=A[E],a=r.name,l=r.namespaceURI,l?(a=r.localName||a,n.hasAttributeNS(l,a)||e.removeAttributeNS(l,a)):n.hasAttribute(a)||e.removeAttribute(a)}}var O,he="http://www.w3.org/1999/xhtml",f=typeof document>"u"?void 0:document,fe=!!f&&"content"in f.createElement("template"),pe=!!f&&f.createRange&&"createContextualFragment"in f.createRange();function me(e){var n=f.createElement("template");return n.innerHTML=e,n.content.childNodes[0]}function ge(e){O||(O=f.createRange(),O.selectNode(f.body));var n=O.createContextualFragment(e);return n.childNodes[0]}function ve(e){var n=f.createElement("body");return n.innerHTML=e,n.childNodes[0]}function ye(e){return e=e.trim(),fe?me(e):pe?ge(e):ve(e)}function $(e,n){var t=e.nodeName,r=n.nodeName,a,l;return t===r?!0:(a=t.charCodeAt(0),l=r.charCodeAt(0),a<=90&&l>=97?t===r.toUpperCase():l<=90&&a>=97?r===t.toUpperCase():!1)}function be(e,n){return!n||n===he?f.createElement(e):f.createElementNS(n,e)}function we(e,n){for(var t=e.firstChild;t;){var r=t.nextSibling;n.appendChild(t),t=r}return n}function F(e,n,t){e[t]!==n[t]&&(e[t]=n[t],e[t]?e.setAttribute(t,""):e.removeAttribute(t))}var Z={OPTION:function(e,n){var t=e.parentNode;if(t){var r=t.nodeName.toUpperCase();r==="OPTGROUP"&&(t=t.parentNode,r=t&&t.nodeName.toUpperCase()),r==="SELECT"&&!t.hasAttribute("multiple")&&(e.hasAttribute("selected")&&!n.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),t.selectedIndex=-1)}F(e,n,"selected")},INPUT:function(e,n){F(e,n,"checked"),F(e,n,"disabled"),e.value!==n.value&&(e.value=n.value),n.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,n){var t=n.value;e.value!==t&&(e.value=t);var r=e.firstChild;if(r){var a=r.nodeValue;if(a==t||!t&&a==e.placeholder)return;r.nodeValue=t}},SELECT:function(e,n){if(!n.hasAttribute("multiple")){for(var t=-1,r=0,a=e.firstChild,l,u;a;)if(u=a.nodeName&&a.nodeName.toUpperCase(),u==="OPTGROUP")l=a,a=l.firstChild,a||(a=l.nextSibling,l=null);else{if(u==="OPTION"){if(a.hasAttribute("selected")){t=r;break}r++}a=a.nextSibling,!a&&l&&(a=l.nextSibling,l=null)}e.selectedIndex=t}}},C=1,ee=11,te=3,ne=8;function y(){}function Ee(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}function Se(e){return function(n,t,r){if(r||(r={}),typeof t=="string")if(n.nodeName==="#document"||n.nodeName==="HTML"||n.nodeName==="BODY"){var a=t;t=f.createElement("html"),t.innerHTML=a}else t=ye(t);else t.nodeType===ee&&(t=t.firstElementChild);var l=r.getNodeKey||Ee,u=r.onBeforeNodeAdded||y,m=r.onNodeAdded||y,w=r.onBeforeElUpdated||y,A=r.onElUpdated||y,E=r.onBeforeNodeDiscarded||y,I=r.onNodeDiscarded||y,oe=r.onBeforeElChildrenUpdated||y,le=r.skipFromChildren||y,J=r.addChild||function(i,o){return i.appendChild(o)},j=r.childrenOnly===!0,T=Object.create(null),z=[];function x(i){z.push(i)}function G(i,o){if(i.nodeType===C)for(var d=i.firstChild;d;){var s=void 0;o&&(s=l(d))?x(s):(I(d),d.firstChild&&G(d,o)),d=d.nextSibling}}function R(i,o,d){E(i)!==!1&&(o&&o.removeChild(i),I(i),G(i,d))}function V(i){if(i.nodeType===C||i.nodeType===ee)for(var o=i.firstChild;o;){var d=l(o);d&&(T[d]=o),V(o),o=o.nextSibling}}V(n);function _(i){m(i);for(var o=i.firstChild;o;){var d=o.nextSibling,s=l(o);if(s){var c=T[s];c&&$(o,c)?(o.parentNode.replaceChild(c,o),H(c,o)):_(o)}else _(o);o=d}}function se(i,o,d){for(;o;){var s=o.nextSibling;(d=l(o))?x(d):R(o,i,!0),o=s}}function H(i,o,d){var s=l(o);if(s&&delete T[s],!d){var c=w(i,o);if(c===!1||(c instanceof HTMLElement&&(i=c,V(i)),e(i,o),A(i),oe(i,o)===!1))return}i.nodeName!=="TEXTAREA"?ce(i,o):Z.TEXTAREA(i,o)}function ce(i,o){var d=le(i,o),s=o.firstChild,c=i.firstChild,N,p,L,P,g;e:for(;s;){for(P=s.nextSibling,N=l(s);!d&&c;){if(L=c.nextSibling,s.isSameNode&&s.isSameNode(c)){s=P,c=L;continue e}p=l(c);var U=c.nodeType,v=void 0;if(U===s.nodeType&&(U===C?(N?N!==p&&((g=T[N])?L===g?v=!1:(i.insertBefore(g,c),p?x(p):R(c,i,!0),c=g,p=l(c)):v=!1):p&&(v=!1),v=v!==!1&&$(c,s),v&&H(c,s)):(U===te||U==ne)&&(v=!0,c.nodeValue!==s.nodeValue&&(c.nodeValue=s.nodeValue))),v){s=P,c=L;continue e}p?x(p):R(c,i,!0),c=L}if(N&&(g=T[N])&&$(g,s))d||J(i,g),H(g,s);else{var X=u(s);X!==!1&&(X&&(s=X),s.actualize&&(s=s.actualize(i.ownerDocument||f)),J(i,s),_(s))}s=P,c=L}se(i,c,p);var Y=Z[i.nodeName];Y&&Y(i,o)}var h=n,D=h.nodeType,K=t.nodeType;if(!j){if(D===C)K===C?$(n,t)||(I(n),h=we(n,be(t.nodeName,t.namespaceURI))):h=t;else if(D===te||D===ne){if(K===D)return h.nodeValue!==t.nodeValue&&(h.nodeValue=t.nodeValue),h;h=t}}if(h===t)I(n);else{if(t.isSameNode&&t.isSameNode(h))return;if(H(h,t,j),z)for(var q=0,de=z.length;q<de;q++){var W=T[z[q]];W&&R(W,W.parentNode,!1)}}return!j&&h!==n&&n.parentNode&&(h.actualize&&(h=h.actualize(n.ownerDocument||f)),n.parentNode.replaceChild(h,n)),h}}var Ae=Se(ue),Te=Ae,Ne=class{constructor(){this.structure=new Map}initialize(e){this.structure=new Map(Object.entries(JSON.parse(JSON.stringify(e))))}applyDiff(e,n){if(n?.type==="stateful"){this.structure.set(n.id,n);return}if(!this.structure.has(e)){let t=String(e).replace(/\r|\n/g,"");console.warn(`[Arizona] StatefulId '${t}' not found in structure`)}for(let[t,r]of n)if(r&&typeof r=="object"&&r.type)this.structure.get(e).dynamic[t-1]=r;else if(Array.isArray(r)){let a=this.structure.get(e).dynamic[t-1];a&&a.type==="list"?this.structure.get(e).dynamic[t-1].dynamic=r:a&&a.type==="stateless"?r.forEach(([l,u])=>{this.structure.get(e).dynamic[t-1].dynamic[l-1]=u}):this.structure.get(e).dynamic[t-1]=r}else this.structure.get(e).dynamic[t-1]=r}generateStatefulHTML(e){let n=this.structure.get(e);if(!n){let t=String(e).replace(/\r|\n/g,"");console.warn(`[Arizona] StatefulId '${t}' not found in structure`)}return this.zipStaticDynamic(n.static,n.dynamic)}generateStatelessHTML(e){return this.zipStaticDynamic(e.static,e.dynamic)}generateListHTML(e){let{static:n,dynamic:t}=e;return t.reduce((r,a)=>r+this.zipStaticDynamic(n,a),"")}zipStaticDynamic(e,n){let t=[],r=Math.max(e.length,n.length);for(let a=0;a<r;a++)a<e.length&&t.push(e[a]),a<n.length&&t.push(this.normalizeDynamicElement(n[a]));return t.join("")}normalizeDynamicElement(e){return typeof e=="string"?e:e&&e.type==="stateful"?this.generateStatefulHTML(e.id):e&&e.type==="stateless"?this.generateStatelessHTML(e):e&&e.type==="list"?this.generateListHTML(e):Array.isArray(e)?this.flattenIoData(e):String(e)}flattenIoData(e){return typeof e=="string"?e:typeof e=="number"?String(e):Array.isArray(e)?e.map(n=>this.flattenIoData(n)).join(""):e&&typeof e=="object"?e.type==="stateful"?this.generateStatefulHTML(e.id):e.type==="stateless"?this.generateStatelessHTML(e):e.type==="list"?this.generateListHTML(e):String(e):String(e||"")}getStructure(){return JSON.parse(JSON.stringify(Object.fromEntries(this.structure)))}isInitialized(){return this.structure.size>0}getComponentIds(){return Array.from(this.structure.keys())}clear(){this.structure=new Map}createPatch(e){return{type:"html_patch",statefulId:e,html:this.generateStatefulHTML(e)}}createInitialPatch(e){return{type:"initial_render",statefulId:e,html:this.generateStatefulHTML(e)}}},Le=Ne,k={silent:-1,error:3,warning:4,info:6,debug:7},re=class{constructor(e={}){this.worker=null,this.connected=!1,this.hierarchical=new Le,this.logLevel=k[e.logLevel]??k.silent}connect(e={}){if(this.connected)return;let n=e.wsPath||"/live",t=e.workerPath||"/assets/js/arizona-worker.min.js";this.worker=new Worker(t,{type:"module"});let r=window.location.protocol==="https:"?"wss:":"ws:",a=window.location.host,l=window.location.pathname,u=window.location.search,m=encodeURIComponent(l),w=u?encodeURIComponent(u.substring(1)):"",A=`${r}//${a}${n}?path=${m}&qs=${w}`;this.worker.postMessage({type:"connect",data:{url:A}}),this.worker.onmessage=E=>{this.handleWorkerMessage(E.data)}}sendEvent(e,n={}){this.connected&&this.worker.postMessage({type:"send",data:{type:"event",event:e,params:n}})}sendEventTo(e,n,t={}){this.connected&&this.worker.postMessage({type:"send",data:{type:"event",stateful_id:e,event:n,params:t}})}disconnect(){this.worker&&(this.worker.terminate(),this.worker=null),this.connected=!1,this.hierarchical.clear()}handleWorkerMessage(e){let{type:n,data:t}=e;try{switch(n){case"status":this.handleStatus(t);break;case"html_patch":this.handleHtmlPatch(t);break;case"error":this.handleWorkerError(t);break;case"reload":this.handleReload(t);break;case"reply":this.handleReply(t);break;case"redirect":this.handleRedirect(t);break;default:this.handleUnknownMessage(e)}}catch(r){this.error("Error handling worker message:",r)}}handleStatus(e){e.status==="connected"?(this.connected=!0,this.info("Connected to WebSocket")):e.status==="disconnected"&&(this.connected=!1,this.info("Disconnected from WebSocket")),this.dispatchArizonaEvent("status",e)}handleHtmlPatch(e){let{patch:n,isInitial:t}=e;t?this.handleInitialRender(n):this.handleDiffPatch(n)}handleInitialRender(e){this.debug("Applying initial render"),e.structure&&this.hierarchical.initialize(e.structure),this.applyHtmlPatch(e)}handleDiffPatch(e){this.debug("Applying diff patch"),this.applyHtmlPatch(e)}applyHtmlPatch(e){let n=document.getElementById(e.statefulId);if(!n){this.warning(`Target element not found: ${e.statefulId}`);return}try{Te(n,e.html,{onBeforeElUpdated(t,r){return!t.isEqualNode(r)}}),this.debug("Patch applied successfully"),n.dispatchEvent(new CustomEvent("arizona:patched",{detail:{patch:e}}))}catch(t){this.error("Error applying HTML patch:",t)}}handleWorkerError(e){this.error("Worker Error:",e.error),this.dispatchArizonaEvent("error",e)}handleReload(e){switch(e.file_type){case"css":this.info("CSS file changed. Refreshing stylesheets without page reload..."),document.querySelectorAll('link[rel="stylesheet"]').forEach(n=>{let t=n.href.split("?")[0];n.href=`${t}?t=${Date.now()}`});break;default:this.info(`${e.file_type||"File"} changed. Reloading page...`),window.location.reload()}}handleReply(e){this.debug("WebSocket reply:",e),this.dispatchArizonaEvent("reply",e)}handleRedirect(e){this.info("Redirecting to:",e.url),this.dispatchArizonaEvent("redirect",e),window.open(e.url,e.options?.target,e.options?.window_features)}handleUnknownMessage(e){this.warning("Unknown worker message:",e)}dispatchArizonaEvent(e,n){document.dispatchEvent(new CustomEvent("arizonaEvent",{detail:{type:e,data:n}}))}isConnected(){return this.connected}error(e,...n){console.error(`[Arizona] ${e}`,...n)}warning(e,...n){this.logLevel>=k.warning&&console.warn(`[Arizona] ${e}`,...n)}info(e,...n){this.logLevel>=k.info&&console.log(`[Arizona] ${e}`,...n)}debug(e,...n){this.logLevel>=k.debug&&console.log(`[Arizona] ${e}`,...n)}};globalThis.arizona=new re({logLevel:"debug"});arizona.connect({wsPath:"/live"});var b=0,S=document.querySelectorAll(".carousel-slide"),M=document.querySelectorAll(".carousel-dot"),ae=document.getElementById("carousel-slides");function B(e){let n=-e*33.333333;if(ae&&(ae.style.transform=`translateX(${n}%)`),S.forEach((t,r)=>{r===e?(t.classList.remove("overflow-hidden"),t.classList.add("overflow-x-auto")):(t.classList.remove("overflow-x-auto"),t.classList.add("overflow-hidden"))}),M.forEach(t=>{t.classList.remove("active"),t.classList.remove("bg-erlang-red"),t.classList.add("bg-gray-600")}),S[e]){let t=S[e].getAttribute("data-file"),r=document.getElementById("file-name");r&&t&&(r.textContent=t);let a=S[e].getAttribute("data-label"),l=document.getElementById("example-label");l&&a&&(l.textContent=a),M[e]&&(M[e].classList.add("active"),M[e].classList.add("bg-erlang-red"),M[e].classList.remove("bg-gray-600"))}}function Ce(){b=(b+1)%S.length,B(b)}function ke(){b=(b-1+S.length)%S.length,B(b)}function Me(e){b=e,B(b)}globalThis.nextExample=Ce;globalThis.prevExample=ke;globalThis.goToExample=Me;function ie(){let e=document.getElementById("mobile-menu"),t=document.getElementById("mobile-menu-button")?.querySelector(".hamburger-lines");e?.classList.toggle("show"),t?.classList.toggle("active")}globalThis.toggleMobileMenu=ie;document.addEventListener("DOMContentLoaded",function(){B(0);let e=document.getElementById("mobile-menu-button");e&&e.addEventListener("click",ie)});})();
